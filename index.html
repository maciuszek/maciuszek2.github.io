<!DOCTYPE html>
<html lang='en'>
  <head>
    <title>Matthew Kuzminski</title>
    <meta charset='utf-8' />
    <meta
      name='viewport'
      content='width=device-width, initial-scale=1, shrink-to-fit=no'
    />
    <link
      rel='stylesheet'
      href='https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css'
      integrity='sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm'
      crossorigin='anonymous'
    />
    <script
      src='https://code.jquery.com/jquery-3.2.1.slim.min.js'
      integrity='sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN'
      crossorigin='anonymous'
    ></script>
    <script
      src='https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js'
      integrity='sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q'
      crossorigin='anonymous'
    ></script>
    <script
      src='https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js'
      integrity='sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl'
      crossorigin='anonymous'
    ></script>
    <script
      src='https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.0.269/pdf.mjs'
      type='module'
    ></script>
    <script type='module'>
      // If absolute URL from the remote server is provided, configure the CORS
      // header on that server.
      var url = './Matthew_Kuzminski.pdf';

      // Loaded via <script> tag, create shortcut to access PDF.js exports.
      var { pdfjsLib } = globalThis;

      // The workerSrc property shall be specified.
      pdfjsLib.GlobalWorkerOptions.workerSrc =
        'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.0.269/pdf.worker.mjs';

      // Asynchronous download of PDF
      var loadingTask = pdfjsLib.getDocument(url);
      loadingTask.promise.then(
        async function (pdf) {
          console.log(url + ' loaded');
          var viewer = document.getElementById('resume-viewer');
          for (var pageNumber = 1; pageNumber <= pdf.numPages; pageNumber++) {
            await Promise.resolve(pdf.getPage(pageNumber)).then(function (
              page
            ) {
              var canvas = document.createElement('canvas');
              console.log('Page ' + pageNumber + ' loaded');

              var scale = 1.5;
              var viewport = page.getViewport({ scale: scale });

              // Prepare canvas using PDF page dimensions
              var context = canvas.getContext('2d');
              canvas.height = viewport.height;
              canvas.width = viewport.width;

              // Render PDF page into canvas context
              var renderContext = {
                canvasContext: context,
                viewport: viewport,
              };
              page.render(renderContext);
              viewer.appendChild(canvas);
            });
          }
        },
        function (reason) {
          // PDF loading error
          console.error(reason);
        }
      );

      document.getElementById('download-resume').setAttribute('href', url);
    </script>
    <style type='text/css'>
      #resume-viewer {
        text-align: center;
      }
    </style>
  </head>
  <body>
    <a class='btn btn-primary' role='button' id='download-resume'>Download</a>
    <div id='resume-viewer'></div>
  </body>
</html>
